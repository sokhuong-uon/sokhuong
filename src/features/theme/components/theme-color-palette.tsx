'use client'

import { useEffect, useLayoutEffect, useRef, useState } from 'react'

import { Brush, LoaderCircle } from 'lucide-react'

import { useThemeStore } from '@/features/theme/store/use-theme-store'
import { Theme } from '@/features/theme/utils/themes'
import { cn } from '@/lib/utils'

export function ThemeColorPalette({ className }: { className?: string }) {
	const setTheme = useThemeStore((state) => state.setTheme)
	const [isLoadingNewTheme, setIsLoadingNewTheme] = useState(false)
	const [, setNewTheme] = useState<Theme['name']>()
	const brushPosition = useRef({ x: 0, y: 0 })
	const paletteRef = useRef<SVGSVGElement | null>(null)
	const brushRef = useRef<HTMLDivElement | null>(null)

	const onThemeChange = async (theme: Theme['name']) => {
		setNewTheme(theme)

		setIsLoadingNewTheme(true)
		await Promise.all([
			// eslint-disable-next-line @typescript-eslint/ban-ts-comment
			// @ts-ignore
			import(`@/assets/css/themes/blue.css`),
			// eslint-disable-next-line @typescript-eslint/ban-ts-comment
			// @ts-ignore
			import(`@/assets/css/themes/green.css`),
			// eslint-disable-next-line @typescript-eslint/ban-ts-comment
			// @ts-ignore
			import(`@/assets/css/themes/orange.css`),
			// eslint-disable-next-line @typescript-eslint/ban-ts-comment
			// @ts-ignore
			import(`@/assets/css/themes/rose.css`),
			// eslint-disable-next-line @typescript-eslint/ban-ts-comment
			// @ts-ignore
			import(`@/assets/css/themes/violet.css`),
			// eslint-disable-next-line @typescript-eslint/ban-ts-comment
			// @ts-ignore
			import(`@/assets/css/themes/yellow.css`),
			// eslint-disable-next-line @typescript-eslint/ban-ts-comment
			// @ts-ignore
			import(`@/assets/css/themes/zinc.css`),
		])
		setIsLoadingNewTheme(false)

		setTheme(theme)
	}

	useEffect(() => {
		const palette = document.getElementById('palette')
		const rect = palette?.getBoundingClientRect()
		if (rect) {
			brushPosition.current = { x: rect.x, y: rect.y }
		}
		const onPointerMove = (event: PointerEvent) => {
			const brush = brushRef.current
			if (brush) {
				brush.style.transform = `translate(${event.clientX - brushPosition.current.x}px, ${event.clientY - brushPosition.current.y - (rect?.height ?? 0)}px)`
			}
		}
		window.addEventListener('pointermove', onPointerMove)
		return () => {
			window.removeEventListener('pointermove', onPointerMove)
		}
	}, [])

	useLayoutEffect(() => {
		const onWindowResize = () => {
			const palette = paletteRef.current
			if (palette) {
				const x = palette.getBoundingClientRect().x
				const y = palette.getBoundingClientRect().y
				brushPosition.current = { x, y }
			}
		}

		window.addEventListener('resize', onWindowResize)

		return () => {
			window.removeEventListener('resize', onWindowResize)
		}
	})

	return (
		<div className={cn('relative', className)}>
			<svg
				ref={paletteRef}
				id="palette"
				width="181"
				height="147"
				viewBox="0 0 181 147"
				fill="none"
				className="peer scale-125 cursor-none"
			>
				<g>
					<path
						d="M143.221 71.0612C146.03 59.1974 164.019 58.5983 165.513 42.7201C165.513 42.7201 165.485 42.9461 165.369 43.3596C162.067 56.8603 143.692 58.8484 143.221 71.0612Z"
						fill="#D9D9D9"
					/>
					<path
						d="M153.501 56.621C141.369 63.7838 143.221 71.0612 143.221 71.0612C143.692 58.8484 162.067 56.8603 165.369 43.3596C164.858 45.1992 162.625 50.7503 153.501 56.621Z"
						fill="#AEE7F6"
					/>
					<path
						d="M86.6861 145.839C138.082 148.415 176.987 119.714 179.856 90.6543C177.721 112.285 146.21 145.839 86.6861 143.801C31.8241 138.169 -0.198809 104.735 1.22574 71.0612C-2.24048 108.57 34.5732 140.086 86.6861 145.839Z"
						fill="#D9D9D9"
					/>
					<path
						d="M86.6861 143.801C146.21 145.839 177.721 112.285 179.856 90.6543C175.852 114.442 141.847 145.239 86.6861 142.783C42.6411 139.008 1.22574 111.266 1.22574 71.0612C-0.198809 104.735 31.8241 138.169 86.6861 143.801Z"
						fill="#AEE7F6"
					/>
				</g>

				<path
					d="M143.221 71.0612C143.221 71.0612 141.369 63.7838 153.501 56.621C162.625 50.7503 164.858 45.1992 165.369 43.3596C165.421 43.1492 165.469 42.9361 165.513 42.7201C167.485 28.1601 145.552 5.75084 100.551 1.37684C39.5335 -3.17691 2.77956 34.3316 1.22574 71.0612C1.22574 111.266 42.6411 139.008 86.6861 142.783C141.847 145.239 175.852 114.442 179.856 90.6543C180.418 84.9621 179.856 76.8732 168.441 76.8732C159.104 77.2862 158.76 79.3298 150.692 79.21C146.03 78.6707 143.401 75.4951 143.221 71.0612Z"
					id="palette-platform"
					className="fill-zinc-300"
				/>

				<path
					d="M143.221 71.0612C146.03 59.1974 164.019 58.5983 165.513 42.7201M143.221 71.0612C143.221 71.0612 141.369 63.7838 153.501 56.621C162.625 50.7503 164.858 45.1992 165.369 43.3596M143.221 71.0612C143.692 58.8484 162.067 56.8603 165.369 43.3596M143.221 71.0612C143.401 75.4951 146.03 78.6707 150.692 79.21C158.76 79.3298 159.104 77.2862 168.441 76.8732C179.856 76.8732 180.418 84.9621 179.856 90.6543M165.513 42.7201C165.513 42.7201 165.485 42.9461 165.369 43.3596M165.513 42.7201C165.469 42.9361 165.421 43.1492 165.369 43.3596M165.513 42.7201C167.485 28.1601 145.552 5.75084 100.551 1.37684C39.5335 -3.17691 2.77956 34.3316 1.22574 71.0612M179.856 90.6543C176.987 119.714 138.082 148.415 86.6861 145.839C34.5732 140.086 -2.24048 108.57 1.22574 71.0612M179.856 90.6543C177.721 112.285 146.21 145.839 86.6861 143.801C31.8241 138.169 -0.198809 104.735 1.22574 71.0612M179.856 90.6543C175.852 114.442 141.847 145.239 86.6861 142.783C42.6411 139.008 1.22574 111.266 1.22574 71.0612"
					stroke="yellow"
					strokeWidth="0.2"
				/>

				<g
					className="cursor-pointer"
					onClick={() => {
						onThemeChange('yellow')
					}}
					role="button"
					tabIndex={0}
					onKeyDown={(e) => {
						if (e.key === 'Enter' || e.key === ' ') {
							e.preventDefault()
							onThemeChange('yellow')
						}
					}}
					aria-label="Yellow theme"
				>
					<path
						d="M87.0844 33.1229C92.3774 30.1633 93.8525 27.8297 93.9743 23.491C93.1907 33.2928 74.7041 37.1798 68.2723 32.6369C63.4454 28.1404 62.1403 24.3968 62.3411 18.2362C60.4838 27.6543 66.5349 35.0673 72.6458 35.8573C78.4312 36.3228 81.5913 35.7099 87.0844 33.1229Z"
						fill="white"
					/>
					<path
						d="M62.3411 18.2362C62.1403 24.3968 63.4454 28.1404 68.2723 32.6369C74.7041 37.1798 93.1907 33.2928 93.9743 23.491C93.986 23.0751 93.9852 22.6408 93.9742 22.1857C92.1169 14.2866 89.1214 9.66871 82.9505 8.45347C78.5171 7.58038 75.5381 8.04658 73.1251 9.18261C71.0881 9.97252 70.2494 11.6739 67.1939 13.6183C66.6547 13.8005 65.8945 13.4106 65.3366 13.568C63.9587 13.679 62.7788 15.6615 62.3411 18.2362Z"
						fill="yellow"
					/>
					<path
						d="M93.9742 22.1857C92.1169 14.2866 89.1214 9.66871 82.9505 8.45347C78.5171 7.58038 75.5381 8.04658 73.1251 9.18261C71.0881 9.97252 70.2494 11.6739 67.1939 13.6183C66.6547 13.8005 65.8945 13.4106 65.3366 13.568C63.9587 13.679 62.7788 15.6615 62.3411 18.2362M93.9742 22.1857C94.009 22.6318 94.0082 23.0669 93.9743 23.491M93.9742 22.1857C93.9852 22.6408 93.986 23.0751 93.9743 23.491M62.3411 18.2362C60.4838 27.6543 66.5349 35.0673 72.6458 35.8573C78.4312 36.3228 81.5913 35.7099 87.0844 33.1229C92.3774 30.1633 93.8525 27.8297 93.9743 23.491M62.3411 18.2362C62.1403 24.3968 63.4454 28.1404 68.2723 32.6369C74.7041 37.1798 93.1907 33.2928 93.9743 23.491"
						stroke="#D9D9D9"
					/>
					<path
						d="M75.8143 29.7943C71.3908 28.2071 70.3013 26.4949 70.1776 22.365C69.8315 19.4033 68.8426 18.8511 68.2493 19.2025C67.8936 19.3942 67.9261 20.2682 68.2988 22.867C68.4931 24.2223 68.2493 24.8749 69.2382 27.0836C70.1776 29.1818 72.8971 31.0492 75.5671 30.999C75.9847 30.8107 76.1299 30.6588 76.2099 30.2962C76.1855 30.0598 76.0776 29.9565 75.8143 29.7943Z"
						fill="#D9D9D9"
					/>
					<path
						d="M87.9776 18.5499C88.4226 14.8353 82.1432 11.472 77.4459 13.7309C75.0557 15.1676 74.1826 15.8894 73.2432 18.1483C72.8971 19.6543 74.1332 20.8088 76.5065 20.608C78.6821 20.1563 80.4369 19.6304 83.0332 20.0057C86.0493 20.7586 87.4832 20.3069 87.9776 18.5499Z"
						fill="#D9D9D9"
					/>
					<path
						d="M79.7204 23.6199C80.0171 26.5314 85.9998 24.8247 85.9998 23.0677C85.9998 22.6024 84.656 22.4031 83.1815 22.365C81.4752 22.3209 79.6106 22.5428 79.7204 23.6199Z"
						fill="#D9D9D9"
					/>
					<path
						d="M75.8143 29.7943C71.3908 28.2071 70.3013 26.4949 70.1776 22.365C69.8315 19.4033 68.8426 18.8511 68.2493 19.2025C67.8936 19.3942 67.9261 20.2682 68.2988 22.867C68.4931 24.2223 68.2493 24.8749 69.2382 27.0836C70.1776 29.1818 72.8971 31.0492 75.5671 30.999C75.9847 30.8107 76.1299 30.6588 76.2099 30.2962C76.1855 30.0598 76.0776 29.9565 75.8143 29.7943Z"
						stroke="#D9D9D9"
					/>
					<path
						d="M87.9776 18.5499C88.4226 14.8353 82.1432 11.472 77.4459 13.7309C75.0557 15.1676 74.1826 15.8894 73.2432 18.1483C72.8971 19.6543 74.1332 20.8088 76.5065 20.608C78.6821 20.1563 80.4369 19.6304 83.0332 20.0057C86.0493 20.7586 87.4832 20.3069 87.9776 18.5499Z"
						stroke="#D9D9D9"
					/>
				</g>

				<g
					className="cursor-pointer"
					onClick={() => {
						onThemeChange('orange')
					}}
					role="button"
					tabIndex={0}
					onKeyDown={(e) => {
						if (e.key === 'Enter' || e.key === ' ') {
							e.preventDefault()
							onThemeChange('orange')
						}
					}}
					aria-label="Orange theme"
				>
					<path
						d="M50.0844 51.1229C55.3774 48.1633 56.8525 45.8297 56.9743 41.491C56.1907 51.2928 37.7041 55.1798 31.2723 50.6369C26.4454 46.1404 25.1403 42.3968 25.3411 36.2362C23.4838 45.6543 29.5349 53.0673 35.6458 53.8573C41.4312 54.3228 44.5913 53.7099 50.0844 51.1229Z"
						fill="white"
					/>
					<path
						d="M25.3411 36.2362C25.1403 42.3968 26.4454 46.1404 31.2723 50.6369C37.7041 55.1798 56.1907 51.2928 56.9743 41.491C56.986 41.0751 56.9852 40.6408 56.9742 40.1857C55.1169 32.2866 52.1214 27.6687 45.9505 26.4535C41.5171 25.5804 38.5381 26.0466 36.1251 27.1826C34.0881 27.9725 33.2494 29.6739 30.1939 31.6183C29.6547 31.8005 28.8945 31.4106 28.3366 31.568C26.9587 31.679 25.7788 33.6615 25.3411 36.2362Z"
						fill="orange"
					/>
					<path
						d="M56.9742 40.1857C55.1169 32.2866 52.1214 27.6687 45.9505 26.4535C41.5171 25.5804 38.5381 26.0466 36.1251 27.1826C34.0881 27.9725 33.2494 29.6739 30.1939 31.6183C29.6547 31.8005 28.8945 31.4106 28.3366 31.568C26.9587 31.679 25.7788 33.6615 25.3411 36.2362M56.9742 40.1857C57.009 40.6318 57.0082 41.0669 56.9743 41.491M56.9742 40.1857C56.9852 40.6408 56.986 41.0751 56.9743 41.491M25.3411 36.2362C23.4838 45.6543 29.5349 53.0673 35.6458 53.8573C41.4312 54.3228 44.5913 53.7099 50.0844 51.1229C55.3774 48.1633 56.8525 45.8297 56.9743 41.491M25.3411 36.2362C25.1403 42.3968 26.4454 46.1404 31.2723 50.6369C37.7041 55.1798 56.1907 51.2928 56.9743 41.491"
						stroke="#D9D9D9"
					/>
					<path
						d="M38.8143 47.7943C34.3908 46.2071 33.3013 44.4949 33.1776 40.365C32.8315 37.4033 31.8426 36.8511 31.2493 37.2025C30.8936 37.3942 30.9261 38.2682 31.2988 40.867C31.4931 42.2223 31.2493 42.8749 32.2382 45.0836C33.1776 47.1818 35.8971 49.0492 38.5671 48.999C38.9847 48.8107 39.1299 48.6588 39.2099 48.2962C39.1855 48.0598 39.0776 47.9565 38.8143 47.7943Z"
						fill="#D9D9D9"
					/>
					<path
						d="M50.9776 36.5499C51.4226 32.8353 45.1432 29.472 40.4459 31.7309C38.0557 33.1676 37.1826 33.8894 36.2432 36.1483C35.8971 37.6543 37.1332 38.8088 39.5065 38.608C41.6821 38.1563 43.4369 37.6304 46.0332 38.0057C49.0493 38.7586 50.4832 38.3069 50.9776 36.5499Z"
						fill="#D9D9D9"
					/>
					<path
						d="M42.7204 41.6199C43.0171 44.5314 48.9998 42.8247 48.9998 41.0677C48.9998 40.6024 47.656 40.4031 46.1815 40.365C44.4752 40.3209 42.6106 40.5428 42.7204 41.6199Z"
						fill="#D9D9D9"
					/>
					<path
						d="M38.8143 47.7943C34.3908 46.2071 33.3013 44.4949 33.1776 40.365C32.8315 37.4033 31.8426 36.8511 31.2493 37.2025C30.8936 37.3942 30.9261 38.2682 31.2988 40.867C31.4931 42.2223 31.2493 42.8749 32.2382 45.0836C33.1776 47.1818 35.8971 49.0492 38.5671 48.999C38.9847 48.8107 39.1299 48.6588 39.2099 48.2962C39.1855 48.0598 39.0776 47.9565 38.8143 47.7943Z"
						stroke="#D9D9D9"
					/>
					<path
						d="M50.9776 36.5499C51.4226 32.8353 45.1432 29.472 40.4459 31.7309C38.0557 33.1676 37.1826 33.8894 36.2432 36.1483C35.8971 37.6543 37.1332 38.8088 39.5065 38.608C41.6821 38.1563 43.4369 37.6304 46.0332 38.0057C49.0493 38.7586 50.4832 38.3069 50.9776 36.5499Z"
						stroke="#D9D9D9"
					/>

					<path
						d="M42.7204 41.6199C43.0171 44.5314 48.9998 42.8247 48.9998 41.0677C48.9998 40.6024 47.656 40.4031 46.1815 40.365C44.4752 40.3209 42.6106 40.5428 42.7204 41.6199Z"
						stroke="#D9D9D9"
					/>
				</g>

				<g
					className="cursor-pointer"
					onClick={() => {
						onThemeChange('rose')
					}}
					role="button"
					tabIndex={0}
					onKeyDown={(e) => {
						if (e.key === 'Enter' || e.key === ' ') {
							e.preventDefault()
							onThemeChange('rose')
						}
					}}
					aria-label="Rose theme"
				>
					<path
						d="M37.0844 88.1229C42.3774 85.1633 43.8525 82.8297 43.9743 78.491C43.1907 88.2928 24.7041 92.1798 18.2723 87.6369C13.4454 83.1404 12.1403 79.3968 12.3411 73.2362C10.4838 82.6543 16.5349 90.0673 22.6458 90.8573C28.4312 91.3228 31.5913 90.7099 37.0844 88.1229Z"
						fill="white"
					/>
					<path
						className="fill-rose-400"
						d="M12.3411 73.2362C12.1403 79.3968 13.4454 83.1404 18.2723 87.6369C24.7041 92.1798 43.1907 88.2928 43.9743 78.491C43.986 78.0751 43.9852 77.6408 43.9742 77.1857C42.1169 69.2866 39.1214 64.6687 32.9505 63.4535C28.5171 62.5804 25.5381 63.0466 23.1251 64.1826C21.0881 64.9725 20.2494 66.6739 17.1939 68.6183C16.6547 68.8005 15.8945 68.4106 15.3366 68.568C13.9587 68.679 12.7788 70.6615 12.3411 73.2362Z"
					/>
					<path
						d="M43.9742 77.1857C42.1169 69.2866 39.1214 64.6687 32.9505 63.4535C28.5171 62.5804 25.5381 63.0466 23.1251 64.1826C21.0881 64.9725 20.2494 66.6739 17.1939 68.6183C16.6547 68.8005 15.8945 68.4106 15.3366 68.568C13.9587 68.679 12.7788 70.6615 12.3411 73.2362M43.9742 77.1857C44.009 77.6318 44.0082 78.0669 43.9743 78.491M43.9742 77.1857C43.9852 77.6408 43.986 78.0751 43.9743 78.491M12.3411 73.2362C10.4838 82.6543 16.5349 90.0673 22.6458 90.8573C28.4312 91.3228 31.5913 90.7099 37.0844 88.1229C42.3774 85.1633 43.8525 82.8297 43.9743 78.491M12.3411 73.2362C12.1403 79.3968 13.4454 83.1404 18.2723 87.6369C24.7041 92.1798 43.1907 88.2928 43.9743 78.491"
						stroke="#D9D9D9"
					/>
					<path
						d="M25.8143 84.7943C21.3908 83.2071 20.3013 81.4949 20.1776 77.365C19.8315 74.4033 18.8426 73.8511 18.2493 74.2025C17.8936 74.3942 17.9261 75.2682 18.2988 77.867C18.4931 79.2223 18.2493 79.8749 19.2382 82.0836C20.1776 84.1818 22.8971 86.0492 25.5671 85.999C25.9847 85.8107 26.1299 85.6588 26.2099 85.2962C26.1855 85.0598 26.0776 84.9565 25.8143 84.7943Z"
						fill="#D9D9D9"
					/>
					<path
						d="M37.9776 73.5499C38.4226 69.8353 32.1432 66.472 27.4459 68.7309C25.0557 70.1676 24.1826 70.8894 23.2432 73.1483C22.8971 74.6543 24.1332 75.8088 26.5065 75.608C28.6821 75.1563 30.4369 74.6304 33.0332 75.0057C36.0493 75.7586 37.4832 75.3069 37.9776 73.5499Z"
						fill="#D9D9D9"
					/>
					<path
						d="M29.7204 78.6199C30.0171 81.5314 35.9998 79.8247 35.9998 78.0677C35.9998 77.6024 34.656 77.4031 33.1815 77.365C31.4752 77.3209 29.6106 77.5428 29.7204 78.6199Z"
						fill="#D9D9D9"
					/>
					<path
						d="M25.8143 84.7943C21.3908 83.2071 20.3013 81.4949 20.1776 77.365C19.8315 74.4033 18.8426 73.8511 18.2493 74.2025C17.8936 74.3942 17.9261 75.2682 18.2988 77.867C18.4931 79.2223 18.2493 79.8749 19.2382 82.0836C20.1776 84.1818 22.8971 86.0492 25.5671 85.999C25.9847 85.8107 26.1299 85.6588 26.2099 85.2962C26.1855 85.0598 26.0776 84.9565 25.8143 84.7943Z"
						stroke="#D9D9D9"
					/>
					<path
						d="M37.9776 73.5499C38.4226 69.8353 32.1432 66.472 27.4459 68.7309C25.0557 70.1676 24.1826 70.8894 23.2432 73.1483C22.8971 74.6543 24.1332 75.8088 26.5065 75.608C28.6821 75.1563 30.4369 74.6304 33.0332 75.0057C36.0493 75.7586 37.4832 75.3069 37.9776 73.5499Z"
						stroke="#D9D9D9"
					/>
					<path
						d="M29.7204 78.6199C30.0171 81.5314 35.9998 79.8247 35.9998 78.0677C35.9998 77.6024 34.656 77.4031 33.1815 77.365C31.4752 77.3209 29.6106 77.5428 29.7204 78.6199Z"
						stroke="#D9D9D9"
					/>
				</g>

				<g
					className="cursor-pointer"
					onClick={() => {
						onThemeChange('green')
					}}
					role="button"
					tabIndex={0}
					onKeyDown={(e) => {
						if (e.key === 'Enter' || e.key === ' ') {
							e.preventDefault()
							onThemeChange('green')
						}
					}}
					aria-label="Green theme"
				>
					<path
						d="M62.0844 118.226C67.3774 115.372 68.8525 113.121 68.9743 108.938C68.1907 118.389 49.7041 122.138 43.2723 117.757C38.4454 113.421 37.1403 109.811 37.3411 103.871C35.4838 112.952 41.5349 120.101 47.6458 120.862C53.4312 121.311 56.5913 120.72 62.0844 118.226Z"
						fill="white"
					/>
					<path
						d="M37.3411 103.871C37.1403 109.811 38.4454 113.421 43.2723 117.757C49.7041 122.138 68.1907 118.389 68.9743 108.938C68.986 108.537 68.9852 108.118 68.9742 107.679C67.1169 100.062 64.1214 95.6091 57.9505 94.4373C53.5171 93.5954 50.5381 94.0449 48.1251 95.1404C46.0881 95.9021 45.2494 97.5426 42.1939 99.4176C41.6547 99.5934 40.8945 99.2174 40.3366 99.3692C38.9587 99.4762 37.7788 101.388 37.3411 103.871Z"
						fill="white"
						className="fill-green-400"
					/>
					<path
						d="M68.9742 107.679C67.1169 100.062 64.1214 95.6091 57.9505 94.4373C53.5171 93.5954 50.5381 94.0449 48.1251 95.1404C46.0881 95.9021 45.2494 97.5426 42.1939 99.4176C41.6547 99.5934 40.8945 99.2174 40.3366 99.3692C38.9587 99.4762 37.7788 101.388 37.3411 103.871M68.9742 107.679C69.009 108.109 69.0082 108.529 68.9743 108.938M68.9742 107.679C68.9852 108.118 68.986 108.537 68.9743 108.938M37.3411 103.871C35.4838 112.952 41.5349 120.101 47.6458 120.862C53.4312 121.311 56.5913 120.72 62.0844 118.226C67.3774 115.372 68.8525 113.121 68.9743 108.938M37.3411 103.871C37.1403 109.811 38.4454 113.421 43.2723 117.757C49.7041 122.138 68.1907 118.389 68.9743 108.938"
						stroke="#D9D9D9"
					/>
					<path
						d="M49.8143 114.794C45.3908 113.207 44.3013 111.495 44.1776 107.365C43.8315 104.403 42.8426 103.851 42.2493 104.203C41.8936 104.394 41.9261 105.268 42.2988 107.867C42.4931 109.222 42.2493 109.875 43.2382 112.084C44.1776 114.182 46.8971 116.049 49.5671 115.999C49.9847 115.811 50.1299 115.659 50.2099 115.296C50.1855 115.06 50.0776 114.957 49.8143 114.794Z"
						fill="#D9D9D9"
					/>
					<path
						d="M61.9776 103.55C62.4226 99.8353 56.1432 96.472 51.4459 98.7309C49.0557 100.168 48.1826 100.889 47.2432 103.148C46.8971 104.654 48.1332 105.809 50.5065 105.608C52.6821 105.156 54.4369 104.63 57.0332 105.006C60.0493 105.759 61.4832 105.307 61.9776 103.55Z"
						fill="#D9D9D9"
					/>
					<path
						d="M53.7204 108.62C54.0171 111.531 59.9998 109.825 59.9998 108.068C59.9998 107.602 58.656 107.403 57.1815 107.365C55.4752 107.321 53.6106 107.543 53.7204 108.62Z"
						fill="#D9D9D9"
					/>
					<path
						d="M49.8143 114.794C45.3908 113.207 44.3013 111.495 44.1776 107.365C43.8315 104.403 42.8426 103.851 42.2493 104.203C41.8936 104.394 41.9261 105.268 42.2988 107.867C42.4931 109.222 42.2493 109.875 43.2382 112.084C44.1776 114.182 46.8971 116.049 49.5671 115.999C49.9847 115.811 50.1299 115.659 50.2099 115.296C50.1855 115.06 50.0776 114.957 49.8143 114.794Z"
						stroke="#D9D9D9"
					/>
					<path
						d="M61.9776 103.55C62.4226 99.8353 56.1432 96.472 51.4459 98.7309C49.0557 100.168 48.1826 100.889 47.2432 103.148C46.8971 104.654 48.1332 105.809 50.5065 105.608C52.6821 105.156 54.4369 104.63 57.0332 105.006C60.0493 105.759 61.4832 105.307 61.9776 103.55Z"
						stroke="#D9D9D9"
					/>
					<path
						d="M53.7204 108.62C54.0171 111.531 59.9998 109.825 59.9998 108.068C59.9998 107.602 58.656 107.403 57.1815 107.365C55.4752 107.321 53.6106 107.543 53.7204 108.62Z"
						stroke="#D9D9D9"
					/>
				</g>

				<g
					className="cursor-pointer"
					onClick={() => {
						onThemeChange('blue')
					}}
					role="button"
					tabIndex={0}
					onKeyDown={(e) => {
						if (e.key === 'Enter' || e.key === ' ') {
							e.preventDefault()
							onThemeChange('blue')
						}
					}}
					aria-label="Blue theme"
				>
					<path
						d="M103.084 131.226C108.377 128.372 109.853 126.121 109.974 121.938C109.191 131.389 90.7041 135.138 84.2723 130.757C79.4454 126.421 78.1403 122.811 78.3411 116.871C76.4838 125.952 82.5349 133.101 88.6458 133.862C94.4312 134.311 97.5913 133.72 103.084 131.226Z"
						fill="white"
					/>
					<path
						d="M78.3411 116.871C78.1403 122.811 79.4454 126.421 84.2723 130.757C90.7041 135.138 109.191 131.389 109.974 121.938C109.986 121.537 109.985 121.118 109.974 120.679C108.117 113.062 105.121 108.609 98.9505 107.437C94.5171 106.595 91.5381 107.045 89.1251 108.14C87.0881 108.902 86.2494 110.543 83.1939 112.418C82.6547 112.593 81.8945 112.217 81.3366 112.369C79.9587 112.476 78.7788 114.388 78.3411 116.871Z"
						className="fill-blue-400"
					/>
					<path
						d="M109.974 120.679C108.117 113.062 105.121 108.609 98.9505 107.437C94.5171 106.595 91.5381 107.045 89.1251 108.14C87.0881 108.902 86.2494 110.543 83.1939 112.418C82.6547 112.593 81.8945 112.217 81.3366 112.369C79.9587 112.476 78.7788 114.388 78.3411 116.871M109.974 120.679C110.009 121.109 110.008 121.529 109.974 121.938M109.974 120.679C109.985 121.118 109.986 121.537 109.974 121.938M78.3411 116.871C76.4838 125.952 82.5349 133.101 88.6458 133.862C94.4312 134.311 97.5913 133.72 103.084 131.226C108.377 128.372 109.853 126.121 109.974 121.938M78.3411 116.871C78.1403 122.811 79.4454 126.421 84.2723 130.757C90.7041 135.138 109.191 131.389 109.974 121.938"
						stroke="#D9D9D9"
					/>
					<path
						d="M91.8143 128.794C87.3908 127.207 86.3013 125.495 86.1776 121.365C85.8315 118.403 84.8426 117.851 84.2493 118.203C83.8936 118.394 83.9261 119.268 84.2988 121.867C84.4931 123.222 84.2493 123.875 85.2382 126.084C86.1776 128.182 88.8971 130.049 91.5671 129.999C91.9847 129.811 92.1299 129.659 92.2099 129.296C92.1855 129.06 92.0776 128.957 91.8143 128.794Z"
						fill="#D9D9D9"
					/>
					<path
						d="M103.978 117.55C104.423 113.835 98.1432 110.472 93.4459 112.731C91.0557 114.168 90.1826 114.889 89.2432 117.148C88.8971 118.654 90.1332 119.809 92.5065 119.608C94.6821 119.156 96.4369 118.63 99.0332 119.006C102.049 119.759 103.483 119.307 103.978 117.55Z"
						fill="#D9D9D9"
					/>
					<path
						d="M95.7204 122.62C96.0171 125.531 102 123.825 102 122.068C102 121.602 100.656 121.403 99.1815 121.365C97.4752 121.321 95.6106 121.543 95.7204 122.62Z"
						fill="#D9D9D9"
					/>
					<path
						d="M91.8143 128.794C87.3908 127.207 86.3013 125.495 86.1776 121.365C85.8315 118.403 84.8426 117.851 84.2493 118.203C83.8936 118.394 83.9261 119.268 84.2988 121.867C84.4931 123.222 84.2493 123.875 85.2382 126.084C86.1776 128.182 88.8971 130.049 91.5671 129.999C91.9847 129.811 92.1299 129.659 92.2099 129.296C92.1855 129.06 92.0776 128.957 91.8143 128.794Z"
						stroke="#D9D9D9"
					/>
					<path
						d="M103.978 117.55C104.423 113.835 98.1432 110.472 93.4459 112.731C91.0557 114.168 90.1826 114.889 89.2432 117.148C88.8971 118.654 90.1332 119.809 92.5065 119.608C94.6821 119.156 96.4369 118.63 99.0332 119.006C102.049 119.759 103.483 119.307 103.978 117.55Z"
						stroke="#D9D9D9"
					/>
					<path
						d="M95.7204 122.62C96.0171 125.531 102 123.825 102 122.068C102 121.602 100.656 121.403 99.1815 121.365C97.4752 121.321 95.6106 121.543 95.7204 122.62Z"
						stroke="#D9D9D9"
					/>
				</g>

				<path
					d="M79.7204 23.6199C80.0171 26.5314 85.9998 24.8247 85.9998 23.0677C85.9998 22.6024 84.656 22.4031 83.1815 22.365C81.4752 22.3209 79.6106 22.5428 79.7204 23.6199Z"
					stroke="#D9D9D9"
				/>

				<g
					className="cursor-pointer"
					id="black-base"
					onClick={() => {
						onThemeChange('zinc')
					}}
					role="button"
					tabIndex={0}
					onKeyDown={(e) => {
						if (e.key === 'Enter' || e.key === ' ') {
							e.preventDefault()
							onThemeChange('zinc')
						}
					}}
					aria-label="Zinc theme"
				>
					<path
						d="M145.868 116.02C151.327 112.955 152.848 110.538 152.973 106.044C152.165 116.196 133.101 120.222 126.468 115.517C121.491 110.86 120.145 106.982 120.352 100.602C118.436 110.356 124.677 118.034 130.979 118.852C136.945 119.334 140.203 118.7 145.868 116.02Z"
						fill="red"
					/>
					<path
						d="M120.352 100.602C120.145 106.982 121.491 110.86 126.468 115.517C133.101 120.222 152.165 116.196 152.973 106.044C152.986 105.613 152.985 105.164 152.973 104.692C151.058 96.5112 147.969 91.7283 141.605 90.4697C137.033 89.5654 133.961 90.0482 131.473 91.2248C129.372 92.043 128.507 93.8051 125.356 95.8189C124.8 96.0077 124.016 95.6038 123.441 95.7669C122.02 95.8818 120.803 97.9351 120.352 100.602Z"
						className="fill-black"
					/>
					<path
						d="M152.973 104.692C151.058 96.5112 147.969 91.7283 141.605 90.4697C137.033 89.5654 133.961 90.0482 131.473 91.2248C129.372 92.043 128.507 93.8051 125.356 95.8189C124.8 96.0077 124.016 95.6038 123.441 95.7669C122.02 95.8818 120.803 97.9351 120.352 100.602M152.973 104.692C153.009 105.154 153.008 105.605 152.973 106.044M152.973 104.692C152.985 105.164 152.986 105.613 152.973 106.044M120.352 100.602C118.436 110.356 124.677 118.034 130.979 118.852C136.945 119.334 140.203 118.7 145.868 116.02C151.327 112.955 152.848 110.538 152.973 106.044M120.352 100.602C120.145 106.982 121.491 110.86 126.468 115.517C133.101 120.222 152.165 116.196 152.973 106.044"
						stroke="#D9D9D9"
					/>
					<path
						d="M134.814 110.794C130.391 109.207 129.301 107.495 129.178 103.365C128.832 100.403 127.843 99.8511 127.249 100.203C126.894 100.394 126.926 101.268 127.299 103.867C127.493 105.222 127.249 105.875 128.238 108.084C129.178 110.182 131.897 112.049 134.567 111.999C134.985 111.811 135.13 111.659 135.21 111.296C135.186 111.06 135.078 110.957 134.814 110.794Z"
						fill="#D9D9D9"
					/>
					<path
						d="M146.978 99.5499C147.423 95.8353 141.143 92.472 136.446 94.7309C134.056 96.1676 133.183 96.8894 132.243 99.1483C131.897 100.654 133.133 101.809 135.507 101.608C137.682 101.156 139.437 100.63 142.033 101.006C145.049 101.759 146.483 101.307 146.978 99.5499Z"
						fill="#D9D9D9"
					/>
					<path
						d="M138.72 104.62C139.017 107.531 145 105.825 145 104.068C145 103.602 143.656 103.403 142.182 103.365C140.475 103.321 138.611 103.543 138.72 104.62Z"
						fill="#D9D9D9"
					/>
					<path
						d="M134.814 110.794C130.391 109.207 129.301 107.495 129.178 103.365C128.832 100.403 127.843 99.8511 127.249 100.203C126.894 100.394 126.926 101.268 127.299 103.867C127.493 105.222 127.249 105.875 128.238 108.084C129.178 110.182 131.897 112.049 134.567 111.999C134.985 111.811 135.13 111.659 135.21 111.296C135.186 111.06 135.078 110.957 134.814 110.794Z"
						stroke="#D9D9D9"
					/>
					<path
						d="M146.978 99.5499C147.423 95.8353 141.143 92.472 136.446 94.7309C134.056 96.1676 133.183 96.8894 132.243 99.1483C131.897 100.654 133.133 101.809 135.507 101.608C137.682 101.156 139.437 100.63 142.033 101.006C145.049 101.759 146.483 101.307 146.978 99.5499Z"
						stroke="#D9D9D9"
					/>
					<path
						d="M138.72 104.62C139.017 107.531 145 105.825 145 104.068C145 103.602 143.656 103.403 142.182 103.365C140.475 103.321 138.611 103.543 138.72 104.62Z"
						stroke="#D9D9D9"
					/>
				</g>

				<g className="text-white dark:text-black">
					<path
						d="M125.948 59.7652C123.032 45.13 99.811 45.0742 99.0102 57.084C98.7123 61.5527 104.958 68.3676 111.822 68.9262C118.685 69.4848 125.319 66.9153 125.948 59.7652Z"
						fill="currentColor"
					/>
					<path
						d="M125.948 59.7652C126.177 45.1859 99.2962 41.3316 99.0102 57.084C98.6099 39.5441 127.378 44.6273 125.948 59.7652Z"
						fill="white"
					/>
					<path
						d="M99.0102 57.084C99.811 45.0742 123.032 45.13 125.948 59.7652M99.0102 57.084C98.7123 61.5527 104.958 68.3676 111.822 68.9262C118.685 69.4848 125.319 66.9153 125.948 59.7652M99.0102 57.084C99.2962 41.3316 126.177 45.1859 125.948 59.7652M99.0102 57.084C98.6099 39.5441 127.378 44.6273 125.948 59.7652"
						stroke="black"
						strokeWidth="0.2"
					/>
				</g>
			</svg>
			<div
				id="brush"
				className="pointer-events-none fixed z-30 transform-gpu opacity-0 peer-hover:opacity-100"
				ref={brushRef}
			>
				<div className="relative">
					{isLoadingNewTheme && (
						<LoaderCircle className="absolute -top-6 animate-spin" />
					)}
					<Brush className="absolute -left-5 -top-2 hidden scale-150 text-yellow-500 sm:block" />
				</div>
			</div>
		</div>
	)
}
